org 100h   
.Model SMALL
.STACK 100H
.DATA
    ;MSG DB "PROVIDE INPUT AGAIN : $"
    
.CODE
MAIN PROC 
MOV ax,@data
MOV ds,ax   

XOR BX,BX
MOV AH,1
INT 21H

    
INPUT: 
CMP AL,0DH
JE OUTPUT
;CMP AL,'0'
;JNE CHECK
;CMP AL,'1'
;JNE CHECK  
    
AND AL,0FH
SHL BX,1
    
OR BL,AL 
INT 21H    
LOOP INPUT  

;CHECK:
;CMP AL,0DH
;JE OUTPUT
;JNE SHOW

;SHOW:
;LEA DX,MSG
;MOV AH,9
;INT 21H
;JMP INPUT

OUTPUT: 
MOV AH,2
MOV DX,0AH
INT 21H

MOV AH,2
MOV DX,0DH
INT 21H

MOV CX,4

CONVERT:
MOV DL,BH

;SHIFT LEFT 4 TIMES
SHR DL,4
CMP DL,9
JLE NUM
ADD DL,55D
JMP DISPLAY

NUM:
ADD DL,30H

DISPLAY:
MOV AH,2 
INT 21H 
;ROTATE CARRY LEFT 4 TIMES
RCL BX,4 
LOOP CONVERT
;JMP INPUT 
       
END:
MOV AH,4CH
INT 21h


MAIN ENDP
END MAIN  