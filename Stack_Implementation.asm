.MODEL SMALL
.STACK 100H 
.DATA

.CODE
 
MOV DL,'?'
MOV AH,2
INT 21H
 
MOV CX,0
 
MOV AH,1
INT 21H
 
WHILE:
CMP AL,0DH
JE NEXT
PUSH AX
INC CX
MOV AH,1
INT 21H
JMP WHILE
 
NEXT:
JCXZ CLOSE
MOV AH,2
MOV DL,0DH
INT 21H
 
MOV AH,2
MOV DL,0AH
INT 21H
 
REVERSE:
POP DX
MOV AH,2
INT 21H
LOOP REVERSE   

CLOSE:
MOV AH,4CH
INT 21H